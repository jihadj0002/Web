{% extends 'core/base.html' %}
{% block content %}
    <!-- Page Header -->
    <section class="py-3 bg-light">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item"><a href="products.html">Products</a></li>
                    <li class="breadcrumb-item"><a href="#">Electronics</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Wireless Headphones</li>
                </ol>
            </nav>
        </div>
    </section>

    <!-- Product Details -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <!-- Product Gallery -->
                <div class="col-lg-6">
                    <div class="product-gallery">
                        <img id="mainImage" src="{{product.image.url}}" class="img-fluid main-image" alt="Wireless Headphones">
                        <div class="thumbnail-container">
                            {% for image in product.images.all %}
                            <img src="{{image.image.url}}" class="thumbnail" onclick="changeImage(this)" alt="Thumbnail {{forloop.counter}}">
                            {% endfor %}
                            </div>
                    </div>
                </div>
                
                <!-- Product Info -->
                <div class="col-lg-6">
                    <div class="product-info">
                        <h1 class="mb-3">{{product.title}}</h1>
                        <div class="d-flex align-items-center mb-3">
                            <div class="rating-stars me-2">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="text-muted">(42 reviews)</span>
                            <span class="badge bg-success ms-3">In Stock</span>
                        </div>
                        
                        <div class="mb-4">
                            <span class="price">${{product.discount_price}}</span>
                            <span class="original-price ms-2">${{product.price}}</span>
                            <span class="badge bg-danger discount-badge ms-2">{{product.discount_percentage}}% OFF</span>
                        </div>
                        
                        <p class="mb-4">Experience crystal-clear sound with our premium wireless headphones. Featuring active noise cancellation, 30-hour battery life, and ultra-comfortable ear cushions for all-day listening.</p>
                        
                        <div class="mb-4">
                            <h5>Key Features:</h5>
                            <ul>
                                <li>Active Noise Cancellation</li>
                                <li>30-hour battery life</li>
                                <li>Bluetooth 5.0</li>
                                <li>Built-in microphone</li>
                                <li>Foldable design</li>
                            </ul>
                        </div>
                        
                        <form class="mb-4">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="color" class="form-label">Color</label>
                                    <select class="form-select" id="color">
                                        <option selected>Black</option>
                                        <option>White</option>
                                        <option>Blue</option>
                                        <option>Red</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="quantity" class="form-label">Quantity</label>
                                    <div class="input-group quantity-selector">
                                        <button class="btn btn-outline-secondary" type="button" id="decrement">-</button>
                                        <input type="text" class="form-control text-center" value="1" id="quantity">
                                        <button class="btn btn-outline-secondary" type="button" id="increment">+</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        
                        <div class="d-flex flex-wrap gap-2 mb-4">
                            <button class="btn btn-primary btn-lg flex-grow-1">
                                <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                            </button>
                            <button class="btn btn-outline-secondary btn-lg flex-grow-1">
                                <i class="fas fa-heart me-2"></i>Add to Wishlist
                            </button>
                        </div>
                        
                        <div class="d-flex flex-wrap gap-3">
                            <div class="d-flex align-items-center text-muted">
                                <i class="fas fa-shield-alt me-2"></i>
                                <span>1 Year Warranty</span>
                            </div>
                            <div class="d-flex align-items-center text-muted">
                                <i class="fas fa-truck me-2"></i>
                                <span>Free Shipping</span>
                            </div>
                            <div class="d-flex align-items-center text-muted">
                                <i class="fas fa-undo me-2"></i>
                                <span>30-Day Returns</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Product Tabs -->
            <div class="row mt-5">
                <div class="col-12">
                    <ul class="nav nav-tabs product-tabs" id="productTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab">Description</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="specifications-tab" data-bs-toggle="tab" data-bs-target="#specifications" type="button" role="tab">Specifications</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab">Reviews (42)</button>
                        </li>
                    </ul>
                    
                    <div class="tab-content p-3 border border-top-0 rounded-bottom" id="productTabsContent">
                        <!-- Description Tab -->
                        <div class="tab-pane fade show active" id="description" role="tabpanel">
                            <h4>Product Description</h4>
                            <p>Our Premium Wireless Headphones deliver an unparalleled audio experience with cutting-edge technology and superior comfort. Designed for audiophiles and casual listeners alike, these headphones provide crystal-clear sound quality with deep bass and crisp highs.</p>
                            
                            <h5 class="mt-4">Features:</h5>
                            <ul>
                                <li><strong>Active Noise Cancellation:</strong> Block out unwanted background noise for immersive listening</li>
                                <li><strong>30-hour battery life:</strong> Enjoy all-day playback with quick charging capability</li>
                                <li><strong>Bluetooth 5.0:</strong> Stable connection with a range of up to 30 feet</li>
                                <li><strong>Built-in microphone:</strong> Take calls with clear voice quality</li>
                                <li><strong>Foldable design:</strong> Compact and portable for travel</li>
                                <li><strong>Ultra-comfortable ear cushions:</strong> Memory foam padding for extended wear</li>
                                <li><strong>Multi-point connection:</strong> Connect to two devices simultaneously</li>
                            </ul>
                            
                            <h5 class="mt-4">What's in the Box:</h5>
                            <ul>
                                <li>Wireless Headphones</li>
                                <li>Carrying Case</li>
                                <li>USB-C Charging Cable</li>
                                <li>3.5mm Audio Cable</li>
                                <li>Quick Start Guide</li>
                            </ul>
                        </div>
                        
                        <!-- Specifications Tab -->
                        <div class="tab-pane fade" id="specifications" role="tabpanel">
                            <h4>Technical Specifications</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <tbody>
                                        <tr>
                                            <th scope="row">Brand</th>
                                            <td>AudioPro</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Model</th>
                                            <td>WH-2023</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Color</th>
                                            <td>Black, White, Blue, Red</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Connectivity</th>
                                            <td>Bluetooth 5.0, 3.5mm wired</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Battery Life</th>
                                            <td>Up to 30 hours (ANC on), 40 hours (ANC off)</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Charging Time</th>
                                            <td>2 hours (full charge)</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Quick Charge</th>
                                            <td>15 minutes = 5 hours playback</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Driver Size</th>
                                            <td>40mm dynamic drivers</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Frequency Response</th>
                                            <td>20Hz - 20kHz</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Weight</th>
                                            <td>255g</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Dimensions</th>
                                            <td>7.5 x 6.7 x 3.2 inches (folded)</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Warranty</th>
                                            <td>1 Year Manufacturer Warranty</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Reviews Tab -->
                        <div class="tab-pane fade" id="reviews" role="tabpanel">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h4>Customer Reviews</h4>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#reviewModal">
                                    <i class="fas fa-pen me-2"></i>Write a Review
                                </button>
                            </div>
                            
                            <div class="row mb-4">
                                <div class="col-md-4 text-center">
                                    <h1 class="display-4">4.6</h1>
                                    <div class="rating-stars mb-2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </div>
                                    <p class="text-muted">42 reviews</p>
                                </div>
                                <div class="col-md-8">
                                    <div class="row align-items-center mb-2">
                                        <div class="col-2 text-end">
                                            <span>5 stars</span>
                                        </div>
                                        <div class="col-8">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 75%"></div>
                                            </div>
                                        </div>
                                        <div class="col-2">
                                            <span class="text-muted">32</span>
                                        </div>
                                    </div>
                                    <div class="row align-items-center mb-2">
                                        <div class="col-2 text-end">
                                            <span>4 stars</span>
                                        </div>
                                        <div class="col-8">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 15%"></div>
                                            </div>
                                        </div>
                                        <div class="col-2">
                                            <span class="text-muted">6</span>
                                        </div>
                                    </div>
                                    <div class="row align-items-center mb-2">
                                        <div class="col-2 text-end">
                                            <span>3 stars</span>
                                        </div>
                                        <div class="col-8">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 5%"></div>
                                            </div>
                                        </div>
                                        <div class="col-2">
                                            <span class="text-muted">2</span>
                                        </div>
                                    </div>
                                    <div class="row align-items-center mb-2">
                                        <div class="col-2 text-end">
                                            <span>2 stars</span>
                                        </div>
                                        <div class="col-8">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 2%"></div>
                                            </div>
                                        </div>
                                        <div class="col-2">
                                            <span class="text-muted">1</span>
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-2 text-end">
                                            <span>1 star</span>
                                        </div>
                                        <div class="col-8">
                                            <div class="progress" style="height: 10px;">
                                                <div class="progress-bar bg-warning" role="progressbar" style="width: 1%"></div>
                                            </div>
                                        </div>
                                        <div class="col-2">
                                            <span class="text-muted">1</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Review Cards -->
                            <div class="review-card">
                                <div class="d-flex justify-content-between mb-2">
                                    <div>
                                        <h5>John D.</h5>
                                        <div class="rating-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <span class="text-muted">2 weeks ago</span>
                                </div>
                                <h6>Excellent sound quality!</h6>
                                <p>The noise cancellation is amazing. I can't hear anything around me when I have these on. Battery life is as advertised and they're very comfortable even after hours of use.</p>
                            </div>
                            
                            <div class="review-card">
                                <div class="d-flex justify-content-between mb-2">
                                    <div>
                                        <h5>Sarah M.</h5>
                                        <div class="rating-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                    <span class="text-muted">1 month ago</span>
                                </div>
                                <h6>Great headphones with minor issues</h6>
                                <p>Sound is fantastic and they're very comfortable. My only complaint is that the touch controls can be a bit sensitive sometimes. Overall very happy with my purchase.</p>
                            </div>
                            
                            <div class="review-card">
                                <div class="d-flex justify-content-between mb-2">
                                    <div>
                                        <h5>Michael T.</h5>
                                        <div class="rating-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </div>
                                    </div>
                                    <span class="text-muted">3 months ago</span>
                                </div>
                                <h6>Worth every penny</h6>
                                <p>I was hesitant because of the price, but these are worth it. The sound quality is incredible and they're built like a tank. The case is also very sturdy and protects them well.</p>
                            </div>
                            
                            <nav aria-label="Review pagination" class="mt-4">
                                <ul class="pagination justify-content-center">
                                    <li class="page-item disabled">
                                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                                    </li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item">
                                        <a class="page-link" href="#">Next</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Related Products -->
            <div class="row mt-5">
                <div class="col-12">
                    <h3 class="mb-4">You May Also Like</h3>
                </div>
                
                <!-- Related Product 1 -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card related-product-card h-100">
                        <img src="images/img/09.jpg" class="card-img-top" alt="Related Product 1">
                        <div class="card-body">
                            <h5 class="card-title">Wireless Earbuds Pro</h5>
                            <div class="mb-2">
                                <span class="text-warning">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </span>
                                <span class="text-muted">(28 reviews)</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">$79.99</h6>
                                <del class="text-muted">$99.99</del>
                            </div>
                        </div>
                        <div class="card-footer bg-white">
                            <button class="btn btn-primary w-100">Add to Cart</button>
                        </div>
                    </div>
                </div>
                
                <!-- Related Product 2 -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card related-product-card h-100">
                        <span class="badge bg-success position-absolute top-0 start-0 m-2">New</span>
                        <img src="images/img/09.jpg" class="card-img-top" alt="Related Product 2">
                        <div class="card-body">
                            <h5 class="card-title">Bluetooth Speaker</h5>
                            <div class="mb-2">
                                <span class="text-warning">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </span>
                                <span class="text-muted">(45 reviews)</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">$59.99</h6>
                            </div>
                        </div>
                        <div class="card-footer bg-white">
                            <button class="btn btn-primary w-100">Add to Cart</button>
                        </div>
                    </div>
                </div>
                
                <!-- Related Product 3 -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card related-product-card h-100">
                        <img src="images/img/09.jpg" class="card-img-top" alt="Related Product 3">
                        <div class="card-body">
                            <h5 class="card-title">Noise Cancelling Headphones</h5>
                            <div class="mb-2">
                                <span class="text-warning">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </span>
                                <span class="text-muted">(32 reviews)</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">$149.99</h6>
                            </div>
                        </div>
                        <div class="card-footer bg-white">
                            <button class="btn btn-primary w-100">Add to Cart</button>
                        </div>
                    </div>
                </div>
                
                <!-- Related Product 4 -->
                <div class="col-md-6 col-lg-3 mb-4">
                    <div class="card related-product-card h-100">
                        <span class="badge bg-danger position-absolute top-0 start-0 m-2">-20%</span>
                        <img src="images/img/09.jpg" class="card-img-top" alt="Related Product 4">
                        <div class="card-body">
                            <h5 class="card-title">Portable DAC</h5>
                            <div class="mb-2">
                                <span class="text-warning">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </span>
                                <span class="text-muted">(18 reviews)</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">$89.99</h6>
                                <del class="text-muted">$112.99</del>
                            </div>
                        </div>
                        <div class="card-footer bg-white">
                            <button class="btn btn-primary w-100">Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Review Modal -->
    <div class="modal fade" id="reviewModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Write a Review</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label class="form-label">Rating</label>
                            <div class="rating-input">
                                <input type="radio" id="star5" name="rating" value="5">
                                <label for="star5" class="rating-star"><i class="fas fa-star"></i></label>
                                <input type="radio" id="star4" name="rating" value="4">
                                <label for="star4" class="rating-star"><i class="fas fa-star"></i></label>
                                <input type="radio" id="star3" name="rating" value="3">
                                <label for="star3" class="rating-star"><i class="fas fa-star"></i></label>
                                <input type="radio" id="star2" name="rating" value="2">
                                <label for="star2" class="rating-star"><i class="fas fa-star"></i></label>
                                <input type="radio" id="star1" name="rating" value="1">
                                <label for="star1" class="rating-star"><i class="fas fa-star"></i></label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="reviewTitle" class="form-label">Review Title</label>
                            <input type="text" class="form-control" id="reviewTitle" placeholder="Summarize your experience">
                        </div>
                        <div class="mb-3">
                            <label for="reviewText" class="form-label">Your Review</label>
                            <textarea class="form-control" id="reviewText" rows="5" placeholder="What did you like or dislike about this product?"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="reviewerName" class="form-label">Your Name</label>
                            <input type="text" class="form-control" id="reviewerName">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Submit Review</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}